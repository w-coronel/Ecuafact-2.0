var Dashboard=function(){var n=function(n,t){$(n)&&$.ajax({method:"GET",url:t}).done(function(t){$(n).DataTable({destroy:!0,data:t,order:[[4,"asc"]],language:{url:"./scripts/dt_spanish.json"},columns:[{data:"authorizationNumber",fnCreatedCell:function(n,t,i){var r="<button class='btn btn-danger'  data-toggle='tooltip' title='PDF' role='button' target='_blank' tooltip='PDF' onclick=\"window.open('"+i.pdf+"')\"><i class='fa fa-file-pdf-o'><\/i><\/button>";$(n).html(r)}},{data:"docNumber",fnCreatedCell:function(n,t,i){$(n).html("<a  data-toggle='tooltip' title='Descargar PDF' role='button' target='_blank' tooltip='Descargar PDF' href='"+i.url+"'>"+i.docNumber+"<\/a>")}},{data:"identificationNumber",fnCreatedCell:function(n,t,i){$(n).html("<span title='RUC: "+i.identificationNumber+"'>"+i.name+"<\/span>")}},{data:"date"},{data:"total"}]});$(n).css("width","100%")})},i=function(t,i){n("#table_emitidos_facturas",t+"/01");n("#table_emitidos_retenciones",t+"/07");n("#table_emitidos_notascredito",t+"/04");n("#table_emitidos_guiasremision",t+"/06");n("#table_recibidos_facturas",i+"/01");n("#table_recibidos_retenciones",i+"/07");n("#table_recibidos_notascredito",i+"/04");n("#table_recibidos_guiasremision",i+"/06")},t=function(n,t){var r,i;t&&document.getElementById(n)&&(r=am4core.create(n,am4charts.PieChart),r.data=t,i=r.series.push(new am4charts.PieSeries),i.dataFields.value="Total",i.dataFields.category="Tipo",i.tooltip.label.interactionsEnabled=!0,i.tooltip.keepTargetHover=!0)},r=function(n){t("statistics_1",n)},u=function(n){if(n){var i=n.find(n=>n.Tipo.includes("FACT")),r=n.find(n=>n.Tipo.includes("CR")),u=n.find(n=>n.Tipo.includes("RET")),f=n.find(n=>n.Tipo.includes("GUI"));i&&$("#statistics_2factura")&&$("#statistics_2factura").html("$ "+i.Total);r&&$("#statistics_2notacredito")&&$("#statistics_2notacredito").html("$ "+r.Total);u&&$("#statistics_2retencion")&&$("#statistics_2retencion").html("$ "+u.Total);f&&$("#statistics_2guia")&&$("#statistics_2guia").html("$ "+f.Total);t("statistics_2",n)}};return{UrlEmitidos:"",UrlRecibidos:"",Recibidos:null,Emitidos:null,Init:function(){i(this.UrlEmitidos,this.UrlRecibidos);r(this.Emitidos);u(this.Recibidos)}}}();